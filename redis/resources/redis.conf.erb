requirepass <%= password %>
port <%= port %>
maxmemory <%= memory %>mb

<% if version == "2.2" || version == "2.4" %>

vm-swap-file <%= swap_file %>
vm-max-memory <%= vm_max_memory %>mb
vm-pages <%= vm_pages %>

hash-max-zipmap-entries 64
hash-max-zipmap-value 512

<% end %>

dir <%= data_dir %>
logfile <%= log_file %>


daemonize no
timeout 300
loglevel notice
databases 16
save 900 1
save 300 10
save 60 10000
maxclients <%= maxclients %>
appendonly no
activerehashing yes

rename-command CONFIG <%= config_command %>
rename-command MONITOR ""
rename-command SAVE <%= save_command %>
rename-command BGSAVE ""
rename-command SHUTDOWN <%= shutdown_command %>
rename-command BGREWRITEAOF ""
rename-command SLAVEOF ""
rename-command DEBUG ""
rename-command SYNC ""
